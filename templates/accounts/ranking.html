{% extends 'base.html' %}
{% load static %}

{% block title %}Ranking - Hall of Fame{% endblock %}

{% block extra_css %}
  <link rel="stylesheet" href="{% static 'account/account.css' %}">
{% endblock %}

{% block content %}
<div class="auth-container ranking-container">
    
    <div class="ranking-header">
        <h2 class="page-title">ğŸ† Hall of Fame ğŸ†</h2>
    </div>

    <div class="ranking-list-box">
        <table class="ranking-table">
            <thead>
                <tr>
                    <th class="col-rank">Rank</th>
                    <th class="col-player">Player</th>
                    <th class="col-record">Record</th>
                    <th class="col-score">Score</th>
                </tr>
            </thead>
            <tbody>
                {% for player in users %}
                <tr class="rank-row rank-{{ forloop.counter }} {% if player == request.user %}my-rank{% endif %}">
                    
                    <td>
                        {% if forloop.counter == 1 %}ğŸ¥‡
                        {% elif forloop.counter == 2 %}ğŸ¥ˆ
                        {% elif forloop.counter == 3 %}ğŸ¥‰
                        {% else %}{{ forloop.counter }}{% endif %}
                    </td>
                    
                    <td>
                        {{ player.username }}
                        
                        {% if player == request.user %}
                            <span class="me-badge">(Me)</span>
                        {% endif %}
                    </td>

                    <td class="record-cell">
                        {{ player.game_count }}ì „ 
                        <span class="win-count">{{ player.win_count }}ìŠ¹</span>
                    </td>
                    
                    <td class="score-cell">
                        {{ player.total_score|default:0 }}
                    </td> 
                </tr>
                {% empty %}
                <tr>
                    <td colspan="4" class="empty-msg">
                        ì•„ì§ ë­í‚¹ ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤.<br>
                        ê²Œì„ì˜ ì²« ë²ˆì§¸ ìŠ¹ìê°€ ë˜ì–´ë³´ì„¸ìš”!
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>

    <a href="{% url 'home' %}" class="btn-back">ë©”ì¸ ë©”ë‰´ë¡œ</a>

</div>
{% endblock %}